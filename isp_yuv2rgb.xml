<?xml version="1.0" encoding="UTF-8"?>
<FunctionMap IP="isp_yuv2rgb">

    <!-- ================================================================ -->
    <!-- Top-level parameters (excluded from SV random class,             -->
    <!-- exported to CSV for external range control)                      -->
    <!-- ================================================================ -->

    <TopParameter>
        <Parameter name="IsBypassMode">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>1</MaxValue>
            <TestConstraint>
                $ inside {0, 1};
            </TestConstraint>
        </Parameter>

        <Parameter name="IsYuvFormat">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>5</MaxValue>
            <TestConstraint>
                $ inside {0,1,2,3,4,5};
            </TestConstraint>
        </Parameter>

        <Parameter name="IsImageWidth">
            <NormalValue>1920</NormalValue>
            <MinValue>64</MinValue>
            <MaxValue>16384</MaxValue>
        </Parameter>

        <Parameter name="IsImageHeight">
            <NormalValue>1080</NormalValue>
            <MinValue>64</MinValue>
            <MaxValue>16384</MaxValue>
        </Parameter>

        <Parameter name="IsGridMode">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>1</MaxValue>
        </Parameter>
    </TopParameter>

    <!-- ================================================================ -->
    <!-- Core controls -->
    <!-- ================================================================ -->

    <Parameter name="enable">
        <MinValue>0</MinValue>
        <MaxValue>1</MaxValue>
    </Parameter>

    <Parameter name="chroma_enabled">
        <MinValue>0</MinValue>
        <MaxValue>1</MaxValue>
    </Parameter>

    <Parameter name="dither_enable">
        <MinValue>0</MinValue>
        <MaxValue>1</MaxValue>
    </Parameter>

    <Parameter name="clip_enable">
        <MinValue>0</MinValue>
        <MaxValue>1</MaxValue>
    </Parameter>

    <!-- ================================================================ -->
    <!-- Geometry -->
    <!-- ================================================================ -->

    <Parameter name="width">
        <MinValue>64</MinValue>
        <MaxValue>16384</MaxValue>
    </Parameter>

    <Parameter name="height">
        <MinValue>64</MinValue>
        <MaxValue>16384</MaxValue>
    </Parameter>

    <Parameter name="IsInWidth">
        <MinValue>64</MinValue>
        <MaxValue>16384</MaxValue>
    </Parameter>

    <!-- ================================================================ -->
    <!-- Arithmetic / misc -->
    <!-- ================================================================ -->

    <Parameter name="arith_width">
        <MinValue>1</MinValue>
        <MaxValue>16</MaxValue>
    </Parameter>

    <Parameter name="stride">
        <MinValue>1</MinValue>
        <MaxValue>65536</MaxValue>
        <TestConstraint>
            $ % 16 == 0;
        </TestConstraint>
        <TestConstraint>
            if (yuv_rdmaY_comp_64B_align)
                $ % 64 == 0;
        </TestConstraint>
    </Parameter>

    <Parameter name="fmt">
        <MinValue>0</MinValue>
        <MaxValue>15</MaxValue>
    </Parameter>

    <Parameter name="mode">
        <MinValue>0</MinValue>
        <MaxValue>7</MaxValue>
    </Parameter>

    <Parameter name="range">
        <MinValue>0</MinValue>
        <MaxValue>3</MaxValue>
    </Parameter>

    <!-- ================================================================ -->
    <!-- Signed / unsigned values -->
    <!-- ================================================================ -->

    <Parameter name="signed_val">
        <MinValue>-32768</MinValue>
        <MaxValue>32767</MaxValue>
    </Parameter>

    <Parameter name="unsigned_val">
        <MinValue>0</MinValue>
        <MaxValue>255</MaxValue>
    </Parameter>

    <!-- ================================================================ -->
    <!-- Matrix coefficients -->
    <!-- ================================================================ -->

    <Parameter name="c00"><MinValue>-1024</MinValue><MaxValue>1024</MaxValue></Parameter>
    <Parameter name="c01"><MinValue>-1024</MinValue><MaxValue>1024</MaxValue></Parameter>
    <Parameter name="c02"><MinValue>-1024</MinValue><MaxValue>1024</MaxValue></Parameter>
    <Parameter name="c10"><MinValue>-1024</MinValue><MaxValue>1024</MaxValue></Parameter>
    <Parameter name="c11"><MinValue>-1024</MinValue><MaxValue>1024</MaxValue></Parameter>
    <Parameter name="c12"><MinValue>-1024</MinValue><MaxValue>1024</MaxValue></Parameter>
    <Parameter name="c20"><MinValue>-1024</MinValue><MaxValue>1024</MaxValue></Parameter>
    <Parameter name="c21"><MinValue>-1024</MinValue><MaxValue>1024</MaxValue></Parameter>
    <Parameter name="c22"><MinValue>-1024</MinValue><MaxValue>1024</MaxValue></Parameter>

    <!-- ================================================================ -->
    <!-- Offsets -->
    <!-- ================================================================ -->

    <Parameter name="y_offset">
        <MinValue>-1024</MinValue>
        <MaxValue>1024</MaxValue>
    </Parameter>

    <Parameter name="uv_offset">
        <MinValue>-1024</MinValue>
        <MaxValue>1024</MaxValue>
    </Parameter>

    <Parameter name="arith_y_offset">
        <MinValue>-1024</MinValue>
        <MaxValue>1024</MaxValue>
    </Parameter>

    <!-- ================================================================ -->
    <!-- RDMA / ISP relation -->
    <!-- ================================================================ -->

    <Parameter name="IsRdmaDataFormatYuv">
        <MinValue>4</MinValue>
        <MaxValue>33</MaxValue>
        <TestConstraint>
            $ inside {4,5,7,8,16,17,20,21,32,33};
        </TestConstraint>
        <TestConstraint>
            if ($ inside {4,5,7,8})
                IsInBittageType == 0;
            else if ($ inside {16,17,32,33})
                IsInBittageType == 1;
            else
                IsInBittageType == 3;
        </TestConstraint>
    </Parameter>

    <Parameter name="IsInBittageType">
        <MinValue>0</MinValue>
        <MaxValue>3</MaxValue>
    </Parameter>

    <!-- ================================================================ -->
    <!-- ISP geometry -->
    <!-- ================================================================ -->

    <Parameter name="yuv_isp_image_active_width">
        <MinValue>0</MinValue>
        <MaxValue>16384</MaxValue>
        <TestConstraint>
            $ <= width;
        </TestConstraint>
    </Parameter>

    <Parameter name="yuv_isp_crop_width">
        <MinValue>0</MinValue>
        <MaxValue>16384</MaxValue>
        <TestConstraint>
            $ <= yuv_isp_image_active_width;
        </TestConstraint>
    </Parameter>

    <Parameter name="yuv_isp_image_crop_pre_x">
        <MinValue>0</MinValue>
        <MaxValue>16384</MaxValue>
        <TestConstraint>
            $ + yuv_isp_crop_width <= width;
        </TestConstraint>
    </Parameter>

    <!-- ================================================================ -->
    <!-- ISP -->
    <!-- ================================================================ -->

    <Parameter name="yuv_isp_scale_y">
        <MinValue>-8192</MinValue>
        <MaxValue>8191</MaxValue>
    </Parameter>

    <Parameter name="yuv_isp_scale_shifter_y">
        <MinValue>0</MinValue>
        <MaxValue>15</MaxValue>
    </Parameter>

    <Parameter name="yuv_isp_org_height">
        <MinValue>1</MinValue>
        <MaxValue>16384</MaxValue>
    </Parameter>

    <Parameter name="yuv_isp_image_active_height">
        <MinValue>0</MinValue>
        <MaxValue>16384</MaxValue>
        <TestConstraint>
            $ <= yuv_isp_org_height;
        </TestConstraint>
    </Parameter>


        <!-- ===== ADDED MISSING PARAMETERS ===== -->
        <!-- Core Controls (Enums) -->
        <!-- Core Controls (Enums) -->
        <Parameter name="yuv_format">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>2</MaxValue>
            <TestConstraint>$ inside {0,1,2};</TestConstraint>
        </Parameter>
        <Parameter name="yuv_packing">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>2</MaxValue>
            <TestConstraint>$ inside {0,1,2};</TestConstraint>
        </Parameter>
        <Parameter name="color_space">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>2</MaxValue>
            <TestConstraint>$ inside {0,1,2};</TestConstraint>
        </Parameter>
        <Parameter name="range_mode">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>1</MaxValue>
            <TestConstraint>$ inside {0,1};</TestConstraint>
        </Parameter>
        <Parameter name="rgb_format">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>2</MaxValue>
            <TestConstraint>$ inside {0,1,2};</TestConstraint>
        </Parameter>
        <Parameter name="yuv_bit_depth">
            <NormalValue>8</NormalValue>
            <MinValue>8</MinValue>
            <MaxValue>12</MaxValue>
            <TestConstraint>$ inside {8,10,12};</TestConstraint>
        </Parameter>
        <Parameter name="bit_depth">
            <NormalValue>8</NormalValue>
            <MinValue>8</MinValue>
            <MaxValue>12</MaxValue>
            <TestConstraint>$ inside {8,10,12};</TestConstraint>
        </Parameter>

        <!-- Arithmetic Variables -->
        <Parameter name="a">
            <NormalValue>0</NormalValue>
            <MinValue>-32768</MinValue>
            <MaxValue>32767</MaxValue>
        </Parameter>
        <Parameter name="b">
            <NormalValue>0</NormalValue>
            <MinValue>-32768</MinValue>
            <MaxValue>32767</MaxValue>
        </Parameter>
        <Parameter name="c">
            <NormalValue>0</NormalValue>
            <MinValue>-32768</MinValue>
            <MaxValue>32767</MaxValue>
        </Parameter>
        <Parameter name="d">
            <NormalValue>1</NormalValue>
            <MinValue>-32768</MinValue>
            <MaxValue>32767</MaxValue>
        </Parameter>
        <Parameter name="x">
            <NormalValue>0</NormalValue>
            <MinValue>-32768</MinValue>
            <MaxValue>32767</MaxValue>
        </Parameter>
        <Parameter name="y">
            <NormalValue>0</NormalValue>
            <MinValue>-32768</MinValue>
            <MaxValue>32767</MaxValue>
        </Parameter>
        <Parameter name="z">
            <NormalValue>0</NormalValue>
            <MinValue>-32768</MinValue>
            <MaxValue>32767</MaxValue>
        </Parameter>
        <Parameter name="w">
            <NormalValue>0</NormalValue>
            <MinValue>-32768</MinValue>
            <MaxValue>32767</MaxValue>
        </Parameter>

        <!-- Packet/Timing Controls -->
        <Parameter name="ip_post_frame_gap">
            <NormalValue>100</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>1000</MaxValue>
        </Parameter>
        <Parameter name="packet_size">
            <NormalValue>256</NormalValue>
            <MinValue>64</MinValue>
            <MaxValue>4096</MaxValue>
        </Parameter>
        <Parameter name="delay_cycles">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>100000</MaxValue>
        </Parameter>

        <!-- RDMA/ISP Configuration -->
        <Parameter name="IsSrcCompType">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>3</MaxValue>
        </Parameter>
        <Parameter name="yuv_rdmaY_img_stride_1p">
            <NormalValue>1920</NormalValue>
            <MinValue>1</MinValue>
            <MaxValue>65536</MaxValue>
            <TestConstraint>$ % 16 == 0;</TestConstraint>
        </Parameter>
        <Parameter name="yuv_rdmaY_sbwc_lossy_comp_mode">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>1</MaxValue>
            <TestConstraint>$ inside {0,1};</TestConstraint>
        </Parameter>
        <Parameter name="yuv_rdmaY_comp_64B_align">
            <NormalValue>0</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>1</MaxValue>
            <TestConstraint>$ inside {0,1};</TestConstraint>
        </Parameter>

        <!-- ISP Geometry -->
        <Parameter name="yuv_isp_out_scale_x">
            <NormalValue>8192</NormalValue>
            <MinValue>0</MinValue>
            <MaxValue>16384</MaxValue>
        </Parameter>
        <!-- ===== END OF ADDED PARAMETERS ===== -->

</FunctionMap>
